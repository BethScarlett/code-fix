(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))E(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const _ of n.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&E(_)}).observe(document,{childList:!0,subtree:!0});function I(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function E(o){if(o.ep)return;o.ep=!0;const n=I(o);fetch(o.href,n)}})();const z=new URL("/resources/character-sprites/mc-run(1).png"),Q=new URL("/resources/character-sprites/mc-run(2).png"),V=new URL("/resources/character-sprites/mc-run(3).png"),X=new URL("/resources/character-sprites/npc-0.png"),Y=new URL("/resources/character-sprites/npc-2.png"),Z=new URL("/resources/character-sprites/npc-4.png"),ee=new URL("/resources/character-sprites/npc-6.png"),te=new URL("/resources/character-sprites/npc-8.png"),re=new URL("/resources/character-sprites/npc-10.png"),se=new URL("/resources/character-sprites/npc-12.png"),ce=new URL("/resources/character-sprites/wham.png"),oe=new URL("/resources/character-sprites/mc-attack00.png"),ne=new URL("/resources/character-sprites/mc-attack02.png"),ae=new URL("/resources/character-sprites/mc-attack03.png"),ie=new URL("/resources/character-sprites/mc-attack04.png"),le=new URL("/resources/character-sprites/mc-attack05.png"),ue=new URL("/resources/character-sprites/mc-attack06.png"),me=new URL("/resources/character-sprites/mc-attack07.png"),he=new URL("/resources/character-sprites/mc-attack17.png"),pe=new URL("/resources/character-sprites/mc-attack18.png"),ge=new URL("/resources/character-sprites/mc-attack19.png"),de=new URL("/resources/character-sprites/mc-attack20.png"),ye=new URL("/resources/character-sprites/mc-attack21.png"),fe=new URL("/resources/character-sprites/office(2).png"),c=document.querySelector("#hero"),s=document.querySelector(".npc-12"),we=document.querySelector(".npc__collision-box"),p=document.querySelector(".hero__collision-box"),y=document.querySelector(".score-counter"),x=document.querySelector(".game__start-screen"),L=document.querySelector(".game__end-screen"),P=document.querySelector(".game__end-screen-button"),F=document.querySelector(".game__start-button"),N=document.querySelector(".game__instructions-button"),J=document.querySelector(".game__instructions"),i=document.querySelector(".game__background"),b=document.querySelector(".one"),A=document.querySelector(".two"),q=document.querySelector(".three");if(!c||!s||!we||!p||!y||!x||!L||!P||!F||!i||!N||!J||!b||!A||!q)throw new Error("Issues with selector");const xe=10,Le=8;let v=0,C=!0,W,M,B,f,D=!1,d,m=3,h=0,a=0,g=!1,w=!1,Re=110,ke=15,S=5,T=5,Ie=0,$=25;const u=[X,Y,Z,ee,te,re,se,ce],j=[z,Q,V],G=[oe,ne,ae,ie,le,ue,me,he,pe,ge,de,ye],t={x:0,y:0,width:90,height:40},l={x:550,y:240,width:20,height:40},U=()=>{if(g)if(v<1)if(a<G.length){c.style.width=`${t.width+100}px`,c.style.height=`${t.height+100}px`,c.style.top=`${t.y}px`,c.style.left=`${t.x}px`,i.style.height="280px",c.style.backgroundImage=`url('${G[a]}')`,a++,B=setTimeout(U,40);const e=p.getBoundingClientRect(),r=s.getBoundingClientRect();e.x<r.x+r.width&&e.x+e.width+120>r.x&&e.y<r.y+r.height&&e.y+e.height+120>r.y&&(h+=100,s.style.width="40px",s.style.height="40px",s.style.backgroundImage=`url('${u[7]}')`)}else v++,a=0,U();else g=!1,C=!1,v=0,R()},R=()=>{g=!1,C=!0,clearTimeout(B),c.style.width=`${t.width}px`,c.style.height=`${t.height}px`,c.style.backgroundImage=`url('${j[a]}')`,a=(a+1)%j.length,p.style.width=`${t.width-30}px`,p.style.height=`${t.height}px`,M=setTimeout(R,1e3/xe)};document.addEventListener("keydown",e=>{e.key===" "&&!g&&D&&(g=!0,C&&clearTimeout(M),U())});const k=()=>{const e=s.getBoundingClientRect();if(s.style.position="absolute",s.style.width=`${l.width}px`,s.style.height=`${l.height}px`,s.style.left=`${l.x}px`,s.style.top=`${l.y}px`,e.x<=0){const r=Math.floor(Math.random()*(u.length-1));s.style.backgroundImage=`url('${u[r]}')`,s.style.display="block",l.x=window.innerWidth,$=Math.floor(Math.random()*10)+55;let I=Math.floor(Math.random()*6)+10;$+=I}l.x-=$,s.style.left=`${l.x}px`,f=setTimeout(k,1e3/Le),Se()},O=()=>{y.innerText=`Score: ${h.toLocaleString()}`,d||(d=performance.now());const e=performance.now(),r=Math.floor((e-d)/1e3);h+=r,y.innerText=`Score: ${h.toLocaleString()}`,W=setTimeout(O,100)};x.classList.add("hide");i.style.backgroundImage="none";L.classList.add("hide");N.addEventListener("click",()=>{J.classList.add("hide"),x.classList.add("show-flex")});F.addEventListener("click",()=>{_e()});const _e=()=>{D=!0,x.classList.remove("show-flex"),i&&(i.style.backgroundImage=`url('${fe}')`,i.style.animation="sceneMovement 9s linear infinite"),y.classList.add("show");const e=Math.floor(Math.random()*(u.length-1));s.style.backgroundImage=`url('${u[e]}')`,O(),R(),k()},ve=()=>{d=0,m=3,h=0,a=0,w=!1,b.classList.remove("game__life-remove"),A.classList.remove("game__life-remove"),q.classList.remove("game__life-remove"),i.style.animation="sceneMovement 9s linear infinite",O(),R(),k()},H=()=>{t.y<0?(t.y+=T,t.x+=Ie,c.style.top=`${t.y}px`,c.style.right=`${t.x}px`,setTimeout(H,1e3/60)):(t.y=0,t.x=0,c.style.top=`${t.y}px`,c.style.right=`${t.x}px`,w=!1)},K=()=>{t.y>=-Re?(t.y-=ke,t.x-=S,c.style.top=`${t.y}px`,c.style.right=`${t.x}px`,setTimeout(K,1e3/60)):H()},$e=()=>{w||(w=!0,K())};document.addEventListener("keydown",e=>{e.key==="ArrowUp"&&$e()});const Se=()=>{const e=p.getBoundingClientRect(),r=s.getBoundingClientRect();e.x+17<r.x+r.width&&e.x+17+e.width-17>r.x&&e.y<r.y+r.height&&e.y+e.height>r.y&&(Ue(),h-=100,T=50,S=0,c.style.width="40px",c.style.height="40px",c.style.backgroundImage=`url('${u[7]}')`,s.style.width="40px",s.style.height="40px",s.style.backgroundImage=`url('${u[7]}')`,setTimeout(()=>{s.style.display="none",T=5,S=4,m>0&&(f=setTimeout(k,1e3))},500),clearTimeout(f))},Te=()=>{clearTimeout(f),clearTimeout(M),clearTimeout(B),clearTimeout(W),i.style.animation="none",L.classList.remove("hide")};P.addEventListener("click",()=>{L.classList.add("hide"),ve()});const Ue=()=>{m-=1,m===2?b.classList.add("game__life-remove"):m===1?A.classList.add("game__life-remove"):m===0&&(q.classList.add("game__life-remove"),Te())};
