(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))j(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const T of n.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&j(T)}).observe(document,{childList:!0,subtree:!0});function L(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function j(o){if(o.ep)return;o.ep=!0;const n=L(o);fetch(o.href,n)}})();const c=document.querySelector("#hero"),s=document.querySelector(".npc-12"),z=document.querySelector(".npc__collision-box"),h=document.querySelector(".hero__collision-box"),f=document.querySelector(".score-counter"),k=document.querySelector(".game__start-screen"),S=document.querySelector(".game__end-screen"),F=document.querySelector(".game__end-screen-button"),N=document.querySelector(".game__start-button"),H=document.querySelector(".game__instructions-button"),J=document.querySelector(".game__instructions"),a=document.querySelector(".game__background"),q=document.querySelector(".one"),C=document.querySelector(".two"),M=document.querySelector(".three");if(!c||!s||!z||!h||!f||!k||!S||!F||!N||!a||!H||!J||!q||!C||!M)throw new Error("Issues with selector");const Q=10,V=8,X=new Audio("src/resources/audio/hits/6.ogg"),Y=new Audio("src/resources/audio/hits/ohmy.wav");let $=0,B=!0,W,A,O,x,D=!1,y,m=3,d=0,i=0,p=!1,w=!1,Z=110,ee=15,b=5,I=5,te=0,g=25;const u=["src/resources/character-sprites/npc-0.png","src/resources/character-sprites/npc-2.png","src/resources/character-sprites/npc-4.png","src/resources/character-sprites/npc-6.png","src/resources/character-sprites/npc-8.png","src/resources/character-sprites/npc-10.png","src/resources/character-sprites/npc-12.png","src/resources/images/WHAM.png"],G=["src/resources/character-sprites/mc-run(1).png","src/resources/character-sprites/mc-run(2).png","src/resources/character-sprites/mc-run(3).png"],P=["src/resources/character-sprites/mc-attack00.png","src/resources/character-sprites/mc-attack02.png","src/resources/character-sprites/mc-attack03.png","src/resources/character-sprites/mc-attack04.png","src/resources/character-sprites/mc-attack05.png","src/resources/character-sprites/mc-attack06.png","src/resources/character-sprites/mc-attack07.png","src/resources/character-sprites/mc-attack17.png","src/resources/character-sprites/mc-attack18.png","src/resources/character-sprites/mc-attack19.png","src/resources/character-sprites/mc-attack20.png","src/resources/character-sprites/mc-attack21.png"],t={x:0,y:0,width:90,height:40},l={x:550,y:240,width:20,height:40},re=()=>{X.play()},R=()=>{if(p)if($<1)if(i<P.length){c.style.width=`${t.width+100}px`,c.style.height=`${t.height+100}px`,c.style.top=`${t.y}px`,c.style.left=`${t.x}px`,a.style.height="280px",c.style.backgroundImage=`url('${P[i]}')`,i++,O=setTimeout(R,40);const e=h.getBoundingClientRect(),r=s.getBoundingClientRect();e.x<r.x+r.width&&e.x+e.width+120>r.x&&e.y<r.y+r.height&&e.y+e.height+120>r.y&&(re(),d+=100,s.style.width="40px",s.style.height="40px",s.style.backgroundImage=`url('${u[7]}')`)}else $++,i=0,R();else p=!1,B=!1,$=0,v()},v=()=>{p=!1,B=!0,clearTimeout(O),c.style.width=`${t.width}px`,c.style.height=`${t.height}px`,c.style.backgroundImage=`url('${G[i]}')`,i=(i+1)%G.length,h.style.width=`${t.width-30}px`,h.style.height=`${t.height}px`,A=setTimeout(v,1e3/Q)};document.addEventListener("keydown",e=>{e.key===" "&&!p&&D&&(p=!0,B&&clearTimeout(A),R())});const _=()=>{const e=s.getBoundingClientRect();if(s.style.position="absolute",s.style.width=`${l.width}px`,s.style.height=`${l.height}px`,s.style.left=`${l.x}px`,s.style.top=`${l.y}px`,e.x<=0){const r=Math.floor(Math.random()*(u.length-1));s.style.backgroundImage=`url('${u[r]}')`,s.style.display="block",l.x=window.innerWidth,g=Math.floor(Math.random()*10)+55;let L=Math.floor(Math.random()*6)+10;g+=L,console.log(g)}l.x-=g,s.style.left=`${l.x}px`,x=setTimeout(_,1e3/V),ie()},E=()=>{f.innerText=`Score: ${d.toLocaleString()}`,y||(y=performance.now());const e=performance.now(),r=Math.floor((e-y)/1e3);d+=r,f.innerText=`Score: ${d.toLocaleString()}`,W=setTimeout(E,100)};k.classList.add("hide");a.style.backgroundImage="none";S.classList.add("hide");H.addEventListener("click",()=>{J.classList.add("hide"),k.classList.add("show-flex")});N.addEventListener("click",()=>{se()});const se=()=>{D=!0,k.classList.remove("show-flex"),a&&(a.style.backgroundImage="url('src/resources/environment/office(2).png')",a.style.animation="sceneMovement 9s linear infinite"),f.classList.add("show");const e=Math.floor(Math.random()*(u.length-1));s.style.backgroundImage=`url('${u[e]}')`,E(),v(),_()},ce=()=>{y=0,m=3,d=0,i=0,w=!1,q.classList.remove("game__life-remove"),C.classList.remove("game__life-remove"),M.classList.remove("game__life-remove"),a.style.animation="sceneMovement 9s linear infinite",E(),v(),_()},K=()=>{t.y<0?(t.y+=I,t.x+=te,c.style.top=`${t.y}px`,c.style.right=`${t.x}px`,setTimeout(K,1e3/60)):(t.y=0,t.x=0,c.style.top=`${t.y}px`,c.style.right=`${t.x}px`,w=!1)},U=()=>{t.y>=-Z?(t.y-=ee,t.x-=b,c.style.top=`${t.y}px`,c.style.right=`${t.x}px`,setTimeout(U,1e3/60)):K()},oe=()=>{w||(w=!0,U())};document.addEventListener("keydown",e=>{e.key==="ArrowUp"&&oe()});const ne=()=>{Y.play()},ie=()=>{const e=h.getBoundingClientRect(),r=s.getBoundingClientRect();e.x+17<r.x+r.width&&e.x+17+e.width-17>r.x&&e.y<r.y+r.height&&e.y+e.height>r.y&&(ne(),le(),d-=100,I=50,b=0,c.style.width="40px",c.style.height="40px",c.style.backgroundImage=`url('${u[7]}')`,s.style.width="40px",s.style.height="40px",s.style.backgroundImage=`url('${u[7]}')`,setTimeout(()=>{s.style.display="none",I=5,b=4,m>0&&(x=setTimeout(_,1e3))},500),clearTimeout(x))},ae=()=>{clearTimeout(x),clearTimeout(A),clearTimeout(O),clearTimeout(W),a.style.animation="none",S.classList.remove("hide")};F.addEventListener("click",()=>{S.classList.add("hide"),ce()});const le=()=>{m-=1,m===2?q.classList.add("game__life-remove"):m===1?C.classList.add("game__life-remove"):m===0&&(M.classList.add("game__life-remove"),ae())};
